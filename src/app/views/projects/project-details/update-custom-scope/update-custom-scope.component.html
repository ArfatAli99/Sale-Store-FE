<div class="animated fadeIn">
  <div class="card">
    <div class="card-header d-flex align-items-center justify-content-between">
      <h2 class="card-header-headingText">Update Project Scopes</h2>
    </div>

    <div class="card-body">

      <div class="row">
        <table class="table">
          <thead>
            <tr>
              <th width="70%"></th>
              <th colspan="2" class="text-center">Supply and Installation by Contractor</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let scope of scopeQuestions; let i = index">
              <td>{{ i + 1 }}. {{ scope?.project_scope?.scope_description }}</td>
              <td class="text-center">
                <div class="custom-control custom-radio custom-control-inline">
                  <input type="radio" id="scopeQuestion{{ i }}{{ i + 1 }}" name="scopeQuestion{{ i + 1 }}" class="custom-control-input" [checked]="scope.q_result == '1' ? true : false" value="1" (click)="setScope(scope, 1, i)">
                  <label class="custom-control-label" for="scopeQuestion{{ i }}{{ i + 1 }}">YES</label>
                </div>
              </td>
              <td class="text-center">
                <div class="custom-control custom-radio custom-control-inline">
                  <input type="radio" id="scopeQuestion{{ i + 1 }}{{ i + 1 }}" name="scopeQuestion{{ i + 1 }}" class="custom-control-input" [checked]="scope.q_result == '0' ? true : false" value="0" (click)="setScope(scope, 0, i)">
                  <label class="custom-control-label" for="scopeQuestion{{ i + 1 }}{{ i + 1 }}">NO</label>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <hr>

      <div class="row">
        <table class="table">
          <thead>
            <tr>
              <th width="70%"></th>
              <th class="text-center">Supply by Client and Installation by Contractor</th>
              <th class="text-center">Supply and Installation by Contractor</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th colspan="3" class="bg-light">Electrical Items</th>
            </tr>
            <tr *ngFor="let scope of electricalItemsByContractor; let i = index">
              <td>{{ scope?.project_scope?.scope_description }}</td>
              <td class="text-center">
                <div class="custom-control custom-radio custom-control-inline">
                  <input type="radio" id="electricalItemsByContractor{{ i }}{{ i + 1 }}" name="electricalItemsByContractor{{ i + 1 }}" class="custom-control-input" [checked]="scope.supplied_by == 1 ? true : false" value="1" (click)="toggleCustomquestionScope(scope, 1, i)">
                  <label class="custom-control-label" for="electricalItemsByContractor{{ i }}{{ i + 1 }}">YES</label>
                </div>
              </td>
              <td class="text-center">
                <div class="custom-control custom-radio custom-control-inline">
                  <input type="radio" id="electricalItemsByContractor{{ i + 1 }}{{ i + 1 }}" name="electricalItemsByContractor{{ i + 1 }}" class="custom-control-input" [checked]="scope.supplied_by == 3 ? true : false" value="3" (click)="toggleCustomquestionScope(scope, 3, i)">
                  <label class="custom-control-label" for="electricalItemsByContractor{{ i + 1 }}{{ i + 1 }}">NO</label>
                </div>
              </td>
            </tr>

            <tr>
              <th colspan="3" class="bg-light">Plumbing</th>
            </tr>
            <tr *ngFor="let scope of plumbingByContractor; let i = index">
              <td>{{ scope?.project_scope?.scope_description }}</td>
              <td class="text-center">
                <div class="custom-control custom-radio custom-control-inline">
                  <input type="radio" id="plumbingByContractor{{ i }}{{ i + 1 }}" name="plumbingByContractor{{ i + 1 }}" class="custom-control-input" [checked]="scope.supplied_by == 1 ? true : false" value="1" (click)="togglePlumbing(scope, 1, i)">
                  <label class="custom-control-label" for="plumbingByContractor{{ i }}{{ i + 1 }}">YES</label>
                </div>
              </td>
              <td class="text-center">
                <div class="custom-control custom-radio custom-control-inline">
                  <input type="radio" id="plumbingByContractor{{ i + 1 }}{{ i + 1 }}" name="plumbingByContractor{{ i + 1 }}" class="custom-control-input" [checked]="scope.supplied_by == 3 ? true : false" value="3" (click)="togglePlumbing(scope, 3, i)">
                  <label class="custom-control-label" for="plumbingByContractor{{ i + 1 }}{{ i + 1 }}">NO</label>
                </div>
              </td>
            </tr>

            <tr>
              <th colspan="3" class="bg-light">Finishing</th>
            </tr>
            <tr *ngFor="let scope of finishingByContractor; let i = index">
              <td>{{ scope?.project_scope?.scope_description }}</td>
              <td class="text-center">
                <div class="custom-control custom-radio custom-control-inline">
                  <input type="radio" id="finishingByContractor{{ i }}{{ i + 1 }}" name="finishingByContractor{{ i + 1 }}" class="custom-control-input" [checked]="scope.supplied_by == 1 ? true : false" value="1" (click)="toggleFinishing(scope, 1, i)">
                  <label class="custom-control-label" for="finishingByContractor{{ i }}{{ i + 1 }}">YES</label>
                </div>
              </td>
              <td class="text-center">
                <div class="custom-control custom-radio custom-control-inline">
                  <input type="radio" id="finishingByContractor{{ i + 1 }}{{ i + 1 }}" name="finishingByContractor{{ i + 1 }}" class="custom-control-input" [checked]="scope.supplied_by == 3 ? true : false" value="3" (click)="toggleFinishing(scope, 3, i)">
                  <label class="custom-control-label" for="finishingByContractor{{ i + 1 }}{{ i + 1 }}">NO</label>
                </div>
              </td>
            </tr>

          </tbody>
        </table>
      </div>

      <hr>

      <div class="row">
        <table class="table">
          <thead>
            <tr>
              <th width="70%"></th>
              <th class="text-center">Supply and Installation by Client</th>
              <th class="text-center">Supply and Installation by Contractor</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th colspan="3" class="bg-light">Electrical Items</th>
            </tr>
            <tr *ngFor="let scope of electricalItemsByOneParty; let i = index">
              <td>{{ scope?.project_scope?.scope_description }}</td>
              <td class="text-center">
                <div class="custom-control custom-radio custom-control-inline">
                  <input type="radio" id="electricalItemsByOneParty{{ i }}{{ i + 1 }}" name="electricalItemsByOneParty{{ i + 1 }}" class="custom-control-input" [checked]="scope.supplied_by == 1 ? true : false" value="1" (click)="toggleElectricByOne(scope, 1, i)">
                  <label class="custom-control-label" for="electricalItemsByOneParty{{ i }}{{ i + 1 }}">YES</label>
                </div>
              </td>
              <td class="text-center">
                <div class="custom-control custom-radio custom-control-inline">
                  <input type="radio" id="electricalItemsByOneParty{{ i + 1 }}{{ i + 1 }}" name="electricalItemsByOneParty{{ i + 1 }}" class="custom-control-input" [checked]="scope.supplied_by == 3 ? true : false" value="3" (click)="toggleElectricByOne(scope, 3, i)">
                  <label class="custom-control-label" for="electricalItemsByOneParty{{ i + 1 }}{{ i + 1 }}">NO</label>
                </div>
              </td>
            </tr>

            <tr>
              <th colspan="3" class="bg-light">Finishing</th>
            </tr>
            <tr *ngFor="let scope of finishingByOneParty; let i = index">
              <td>{{ scope?.project_scope?.scope_description }}</td>
              <td class="text-center">
                <div class="custom-control custom-radio custom-control-inline">
                  <input type="radio" id="finishingByOneParty{{ i }}{{ i + 1 }}" name="finishingByOneParty{{ i + 1 }}" class="custom-control-input" [checked]="scope.supplied_by == 1 ? true : false" value="1" (click)="toggleFinishingByOne(scope, 1, i)">
                  <label class="custom-control-label" for="finishingByOneParty{{ i }}{{ i + 1 }}">YES</label>
                </div>
              </td>
              <td class="text-center">
                <div class="custom-control custom-radio custom-control-inline">
                  <input type="radio" id="finishingByOneParty{{ i + 1 }}{{ i + 1 }}" name="finishingByOneParty{{ i + 1 }}" class="custom-control-input" [checked]="scope.supplied_by == 3 ? true : false" value="3" (click)="toggleFinishingByOne(scope, 3, i)">
                  <label class="custom-control-label" for="finishingByOneParty{{ i + 1 }}{{ i + 1 }}">NO</label>
                </div>
              </td>
            </tr>

          </tbody>
        </table>
      </div>

      <button type="button" class="btn btn-primary" (click)="updateScopes()">Save Changes</button>
      <button type="button" class="btn btn-danger text-white ml-2" [routerLink]="['/projects/edit/', projectId]">Back to Project</button>

    </div>

  </div>
</div>